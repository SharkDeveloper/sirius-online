import{c7 as te,ca as o,cO as ee,dI as Tt,ah as be,cM as le,c,cQ as Ke,c8 as Bt,cR as Xe,c9 as Ot,dJ as Et,r as M,dK as At,P as V,dL as Ie,dM as Nt,bu as Ze,aa as Ye,dG as Te,db as He,dw as pt,bC as et,dN as tt,dO as $t,by as Dt,dP as jt,a3 as Re,dA as W,Q as Ft,n as ve,dm as Mt,a as It,b as Ht,bU as Vt,cL as zt,o as O,e as K,w as N,g as H,l as D,F as X,aF as Ve,aX as z,ag as B,d7 as Ut,bo as fe,f as p,h as $,dF as ze,m as Z,cd as Qt,dt as Ue,dQ as Jt,dR as Gt}from"./app-X261GMLD.js";function Al(){let e=Object.create(null);return{getCache:(l,a)=>e[l]===void 0?e[l]=typeof a=="function"?a():a:e[l],setCache(l,a){e[l]=a},hasCache(l){return Object.hasOwnProperty.call(e,l)},clearCache(l){l!==void 0?delete e[l]:e=Object.create(null)}}}const lt=te({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:a}){const v=le(),{proxy:{$q:s}}=v,f=i=>{a("click",i)};return()=>{if(e.props===void 0)return o("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:f},ee(l.default));let i,u;const d=v.vnode.key;if(d){if(i=e.props.colsMap[d],i===void 0)return}else i=e.props.col;if(i.sortable===!0){const n=i.align==="right"?"unshift":"push";u=Tt(l.default,[]),u[n](o(be,{class:i.__iconClass,name:s.iconSet.table.arrowUp}))}else u=ee(l.default);const y={class:i.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:i.headerStyle,onClick:n=>{i.sortable===!0&&e.props.sort(i),f(n)}};return o("th",y,u)}}}),Qe=te({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const a=c(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>o("tr",{class:a.value},ee(l.default))}}),G=te({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const a=le(),v=c(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return o("td",{class:v.value},ee(l.default));const s=a.vnode.key,f=(e.props.colsMap!==void 0?e.props.colsMap[s]:null)||e.props.col;if(f===void 0)return;const{row:i}=e.props;return o("td",{class:v.value+f.__tdClass(i),style:f.__tdStyle(i)},ee(l.default))}}}),Wt={xs:2,sm:4,md:6,lg:10,xl:14};function Je(e,l,a){return{transform:l===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Kt=te({name:"QLinearProgress",props:{...Ke,...Bt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:a}=le(),v=Xe(e,a.$q),s=Ot(e,Wt),f=c(()=>e.indeterminate===!0||e.query===!0),i=c(()=>e.reverse!==e.query),u=c(()=>({...s.value!==null?s.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),y=c(()=>Je(e.buffer!==void 0?e.buffer:1,i.value,a.$q)),n=c(()=>`with${e.instantFeedback===!0?"out":""}-transition`),b=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${n.value} q-linear-progress__track--${v.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),P=c(()=>Je(f.value===!0?1:e.value,i.value,a.$q)),k=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${n.value} q-linear-progress__model--${f.value===!0?"in":""}determinate`),C=c(()=>({width:`${e.value*100}%`})),S=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${n.value}`);return()=>{const h=[o("div",{class:b.value,style:y.value}),o("div",{class:k.value,style:P.value})];return e.stripe===!0&&f.value===!1&&h.push(o("div",{class:S.value,style:C.value})),o("div",{class:d.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Et(l.default,h))}}});let Y=0;const Xt={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Zt=["update:fullscreen","fullscreen"];function Yt(){const e=le(),{props:l,emit:a,proxy:v}=e;let s,f,i;const u=M(!1);At(e)===!0&&V(()=>v.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&n()}),V(()=>l.fullscreen,b=>{u.value!==b&&d()}),V(u,b=>{a("update:fullscreen",b),a("fullscreen",b)});function d(){u.value===!0?n():y()}function y(){u.value!==!0&&(u.value=!0,i=v.$el.parentNode,i.replaceChild(f,v.$el),document.body.appendChild(v.$el),Y++,Y===1&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:n},Ie.add(s))}function n(){u.value===!0&&(s!==void 0&&(Ie.remove(s),s=void 0),i.replaceChild(v.$el,f),u.value=!1,Y=Math.max(0,Y-1),Y===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),v.$el.scrollIntoView!==void 0&&setTimeout(()=>{v.$el.scrollIntoView()})))}return Nt(()=>{f=document.createElement("span")}),Ze(()=>{l.fullscreen===!0&&y()}),Ye(n),Object.assign(v,{toggleFullscreen:d,setFullscreen:y,exitFullscreen:n}),{inFullscreen:u,toggleFullscreen:d}}function el(e,l){return new Date(e)-new Date(l)}const tl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ll(e,l,a,v){const s=c(()=>{const{sortBy:u}=l.value;return u&&a.value.find(d=>d.name===u)||null}),f=c(()=>e.sortMethod!==void 0?e.sortMethod:(u,d,y)=>{const n=a.value.find(k=>k.name===d);if(n===void 0||n.field===void 0)return u;const b=y===!0?-1:1,P=typeof n.field=="function"?k=>n.field(k):k=>k[n.field];return u.sort((k,C)=>{let S=P(k),h=P(C);return n.rawSort!==void 0?n.rawSort(S,h,k,C)*b:S==null?-1*b:h==null?1*b:n.sort!==void 0?n.sort(S,h,k,C)*b:Te(S)===!0&&Te(h)===!0?(S-h)*b:He(S)===!0&&He(h)===!0?el(S,h)*b:typeof S=="boolean"&&typeof h=="boolean"?(S-h)*b:([S,h]=[S,h].map(R=>(R+"").toLocaleString().toLowerCase()),S<h?-1*b:S===h?0:b)})});function i(u){let d=e.columnSortOrder;if(pt(u)===!0)u.sortOrder&&(d=u.sortOrder),u=u.name;else{const b=a.value.find(P=>P.name===u);b!==void 0&&b.sortOrder&&(d=b.sortOrder)}let{sortBy:y,descending:n}=l.value;y!==u?(y=u,n=d==="da"):e.binaryStateSort===!0?n=!n:n===!0?d==="ad"?y=null:n=!1:d==="ad"?n=!0:y=null,v({sortBy:y,descending:n,page:1})}return{columnToSort:s,computedSortMethod:f,sort:i}}const al={filter:[String,Object],filterMethod:Function};function nl(e,l){const a=c(()=>e.filterMethod!==void 0?e.filterMethod:(v,s,f,i)=>{const u=s?s.toLowerCase():"";return v.filter(d=>f.some(y=>{const n=i(y,d)+"";return(n==="undefined"||n==="null"?"":n.toLowerCase()).indexOf(u)!==-1}))});return V(()=>e.filter,()=>{et(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function ol(e,l){for(const a in l)if(l[a]!==e[a])return!1;return!0}function Ge(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const rl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function sl(e,l){const{props:a,emit:v}=e,s=M(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),f=c(()=>{const n=a["onUpdate:pagination"]!==void 0?{...s.value,...a.pagination}:s.value;return Ge(n)}),i=c(()=>f.value.rowsNumber!==void 0);function u(n){d({pagination:n,filter:a.filter})}function d(n={}){et(()=>{v("request",{pagination:n.pagination||f.value,filter:n.filter||a.filter,getCellValue:l})})}function y(n,b){const P=Ge({...f.value,...n});if(ol(f.value,P)===!0){i.value===!0&&b===!0&&u(P);return}if(i.value===!0){u(P);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?v("update:pagination",P):s.value=P}return{innerPagination:s,computedPagination:f,isServerSide:i,requestServerInteraction:d,setPagination:y}}function il(e,l,a,v,s,f){const{props:i,emit:u,proxy:{$q:d}}=e,y=c(()=>v.value===!0?a.value.rowsNumber||0:f.value),n=c(()=>{const{page:T,rowsPerPage:E}=a.value;return(T-1)*E}),b=c(()=>{const{page:T,rowsPerPage:E}=a.value;return T*E}),P=c(()=>a.value.page===1),k=c(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(y.value/a.value.rowsPerPage))),C=c(()=>b.value===0?!0:a.value.page>=k.value),S=c(()=>(i.rowsPerPageOptions.includes(l.value.rowsPerPage)?i.rowsPerPageOptions:[l.value.rowsPerPage].concat(i.rowsPerPageOptions)).map(E=>({label:E===0?d.lang.table.allRows:""+E,value:E})));V(k,(T,E)=>{if(T===E)return;const ae=a.value.page;T&&!ae?s({page:1}):T<ae&&s({page:T})});function h(){s({page:1})}function R(){const{page:T}=a.value;T>1&&s({page:T-1})}function m(){const{page:T,rowsPerPage:E}=a.value;b.value>0&&T*E<y.value&&s({page:T+1})}function x(){s({page:k.value})}return i["onUpdate:pagination"]!==void 0&&u("update:pagination",{...a.value}),{firstRowIndex:n,lastRowIndex:b,isFirstPage:P,isLastPage:C,pagesNumber:k,computedRowsPerPageOptions:S,computedRowsNumber:y,firstPage:h,prevPage:R,nextPage:m,lastPage:x}}const ul={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},cl=["update:selected","selection"];function dl(e,l,a,v){const s=c(()=>{const C={};return e.selected.map(v.value).forEach(S=>{C[S]=!0}),C}),f=c(()=>e.selection!=="none"),i=c(()=>e.selection==="single"),u=c(()=>e.selection==="multiple"),d=c(()=>a.value.length!==0&&a.value.every(C=>s.value[v.value(C)]===!0)),y=c(()=>d.value!==!0&&a.value.some(C=>s.value[v.value(C)]===!0)),n=c(()=>e.selected.length);function b(C){return s.value[C]===!0}function P(){l("update:selected",[])}function k(C,S,h,R){l("selection",{rows:S,added:h,keys:C,evt:R});const m=i.value===!0?h===!0?S:[]:h===!0?e.selected.concat(S):e.selected.filter(x=>C.includes(v.value(x))===!1);l("update:selected",m)}return{hasSelectionMode:f,singleSelection:i,multipleSelection:u,allRowsSelected:d,someRowsSelected:y,rowsSelectedNumber:n,isRowSelected:b,clearSelection:P,updateSelection:k}}function We(e){return Array.isArray(e)?e.slice():[]}const vl={expanded:Array},fl=["update:expanded"];function gl(e,l){const a=M(We(e.expanded));V(()=>e.expanded,i=>{a.value=We(i)});function v(i){return a.value.includes(i)}function s(i){e.expanded!==void 0?l("update:expanded",i):a.value=i}function f(i,u){const d=a.value.slice(),y=d.indexOf(i);u===!0?y===-1&&(d.push(i),s(d)):y!==-1&&(d.splice(y,1),s(d))}return{isRowExpanded:v,setExpanded:s,updateExpanded:f}}const bl={visibleColumns:Array};function ml(e,l,a){const v=c(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(d=>({name:d,label:d.toUpperCase(),field:d,align:Te(u[d])?"right":"left",sortable:!0})):[]}),s=c(()=>{const{sortBy:u,descending:d}=l.value;return(e.visibleColumns!==void 0?v.value.filter(n=>n.required===!0||e.visibleColumns.includes(n.name)===!0):v.value).map(n=>{const b=n.align||"right",P=`text-${b}`;return{...n,align:b,__iconClass:`q-table__sort-icon q-table__sort-icon--${b}`,__thClass:P+(n.headerClasses!==void 0?" "+n.headerClasses:"")+(n.sortable===!0?" sortable":"")+(n.name===u?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:n.style!==void 0?typeof n.style!="function"?()=>n.style:n.style:()=>null,__tdClass:n.classes!==void 0?typeof n.classes!="function"?()=>P+" "+n.classes:k=>P+" "+n.classes(k):()=>P}})}),f=c(()=>{const u={};return s.value.forEach(d=>{u[d.name]=d}),u}),i=c(()=>e.tableColspan!==void 0?e.tableColspan:s.value.length+(a.value===!0?1:0));return{colList:v,computedCols:s,computedColsMap:f,computedColspan:i}}const ge="q-table__bottom row items-center",at={};tt.forEach(e=>{at[e]={}});const yl=te({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...at,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ke,...Xt,...bl,...al,...rl,...vl,...ul,...tl},emits:["request","virtualScroll",...Zt,...fl,...cl],setup(e,{slots:l,emit:a}){const v=le(),{proxy:{$q:s}}=v,f=Xe(e,s),{inFullscreen:i,toggleFullscreen:u}=Yt(),d=c(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),y=M(null),n=M(null),b=c(()=>e.grid!==!0&&e.virtualScroll===!0),P=c(()=>" q-table__card"+(f.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),k=c(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":P.value)+(f.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(i.value===!0?" fullscreen scroll":"")),C=c(()=>k.value+(e.loading===!0?" q-table--loading":""));V(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+k.value,()=>{b.value===!0&&n.value!==null&&n.value.reset()});const{innerPagination:S,computedPagination:h,isServerSide:R,requestServerInteraction:m,setPagination:x}=sl(v,Q),{computedFilterMethod:T}=nl(e,x),{isRowExpanded:E,setExpanded:ae,updateExpanded:nt}=gl(e,a),me=c(()=>{let t=e.rows;if(R.value===!0||t.length===0)return t;const{sortBy:r,descending:g}=h.value;return e.filter&&(t=T.value(t,e.filter,j.value,Q)),ut.value!==null&&(t=ct.value(e.rows===t?t.slice():t,r,g)),t}),Be=c(()=>me.value.length),I=c(()=>{let t=me.value;if(R.value===!0)return t;const{rowsPerPage:r}=h.value;return r!==0&&(oe.value===0&&e.rows!==t?t.length>re.value&&(t=t.slice(0,re.value)):t=t.slice(oe.value,re.value)),t}),{hasSelectionMode:U,singleSelection:ot,multipleSelection:Oe,allRowsSelected:rt,someRowsSelected:Ee,rowsSelectedNumber:ye,isRowSelected:he,clearSelection:st,updateSelection:ne}=dl(e,a,I,d),{colList:it,computedCols:j,computedColsMap:Ae,computedColspan:Ne}=ml(e,h,U),{columnToSort:ut,computedSortMethod:ct,sort:_e}=ll(e,h,it,x),{firstRowIndex:oe,lastRowIndex:re,isFirstPage:we,isLastPage:Se,pagesNumber:se,computedRowsPerPageOptions:dt,computedRowsNumber:ie,firstPage:Pe,prevPage:Ce,nextPage:ke,lastPage:qe}=il(v,S,h,R,x,Be),vt=c(()=>I.value.length===0),ft=c(()=>{const t={};return tt.forEach(r=>{t[r]=e[r]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function gt(){b.value===!0&&n.value.reset()}function bt(){if(e.grid===!0)return Lt();const t=e.hideHeader!==!0?Fe:null;if(b.value===!0){const g=l["top-row"],_=l["bottom-row"],w={default:L=>$e(L.item,l.body,L.index)};if(g!==void 0){const L=o("tbody",g({cols:j.value}));w.before=t===null?()=>L:()=>[t()].concat(L)}else t!==null&&(w.before=t);return _!==void 0&&(w.after=()=>o("tbody",_({cols:j.value}))),o(Dt,{ref:n,class:e.tableClass,style:e.tableStyle,...ft.value,scrollTarget:e.virtualScrollTarget,items:I.value,type:"__qtable",tableColspan:Ne.value,onVirtualScroll:yt},w)}const r=[ht()];return t!==null&&r.unshift(t()),jt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},r)}function mt(t,r){if(n.value!==null){n.value.scrollTo(t,r);return}t=parseInt(t,10);const g=y.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(g!==null){const _=y.value.querySelector(".q-table__middle.scroll"),w=g.offsetTop-e.virtualScrollStickySizeStart,L=w<_.scrollTop?"decrease":"increase";_.scrollTop=w,a("virtualScroll",{index:t,from:0,to:S.value.rowsPerPage-1,direction:L})}}function yt(t){a("virtualScroll",t)}function pe(){return[o(Kt,{class:"q-table__linear-progress",color:e.color,dark:f.value,indeterminate:!0,trackColor:"transparent"})]}function $e(t,r,g){const _=d.value(t),w=he(_);if(r!==void 0)return r(De({key:_,row:t,pageIndex:g,__trClass:w?"selected":""}));const L=l["body-cell"],q=j.value.map(A=>{const ce=l[`body-cell-${A.name}`],de=ce!==void 0?ce:L;return de!==void 0?de(_t({key:_,row:t,pageIndex:g,col:A})):o("td",{class:A.__tdClass(t),style:A.__tdStyle(t)},Q(A,t))});if(U.value===!0){const A=l["body-selection"],ce=A!==void 0?A(wt({key:_,row:t,pageIndex:g})):[o(Re,{modelValue:w,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(de,Rt)=>{ne([_],[t],de,Rt)}})];q.unshift(o("td",{class:"q-table--col-auto-width"},ce))}const F={key:_,class:{selected:w}};return e.onRowClick!==void 0&&(F.class["cursor-pointer"]=!0,F.onClick=A=>{a("rowClick",A,t,g)}),e.onRowDblclick!==void 0&&(F.class["cursor-pointer"]=!0,F.onDblclick=A=>{a("rowDblclick",A,t,g)}),e.onRowContextmenu!==void 0&&(F.class["cursor-pointer"]=!0,F.onContextmenu=A=>{a("rowContextmenu",A,t,g)}),o("tr",F,q)}function ht(){const t=l.body,r=l["top-row"],g=l["bottom-row"];let _=I.value.map((w,L)=>$e(w,t,L));return r!==void 0&&(_=r({cols:j.value}).concat(_)),g!==void 0&&(_=_.concat(g({cols:j.value}))),o("tbody",_)}function De(t){return xe(t),t.cols=t.cols.map(r=>W({...r},"value",()=>Q(r,t.row))),t}function _t(t){return xe(t),W(t,"value",()=>Q(t.col,t.row)),t}function wt(t){return xe(t),t}function xe(t){Object.assign(t,{cols:j.value,colsMap:Ae.value,sort:_e,rowIndex:oe.value+t.pageIndex,color:e.color,dark:f.value,dense:e.dense}),U.value===!0&&W(t,"selected",()=>he(t.key),(r,g)=>{ne([t.key],[t.row],r,g)}),W(t,"expand",()=>E(t.key),r=>{nt(t.key,r)})}function Q(t,r){const g=typeof t.field=="function"?t.field(r):r[t.field];return t.format!==void 0?t.format(g,r):g}const J=c(()=>({pagination:h.value,pagesNumber:se.value,isFirstPage:we.value,isLastPage:Se.value,firstPage:Pe,prevPage:Ce,nextPage:ke,lastPage:qe,inFullscreen:i.value,toggleFullscreen:u}));function St(){const t=l.top,r=l["top-left"],g=l["top-right"],_=l["top-selection"],w=U.value===!0&&_!==void 0&&ye.value>0,L="q-table__top relative-position row items-center";if(t!==void 0)return o("div",{class:L},[t(J.value)]);let q;if(w===!0?q=_(J.value).slice():(q=[],r!==void 0?q.push(o("div",{class:"q-table__control"},[r(J.value)])):e.title&&q.push(o("div",{class:"q-table__control"},[o("div",{class:["q-table__title",e.titleClass]},e.title)]))),g!==void 0&&(q.push(o("div",{class:"q-table__separator col"})),q.push(o("div",{class:"q-table__control"},[g(J.value)]))),q.length!==0)return o("div",{class:L},q)}const je=c(()=>Ee.value===!0?null:rt.value);function Fe(){const t=Pt();return e.loading===!0&&l.loading===void 0&&t.push(o("tr",{class:"q-table__progress"},[o("th",{class:"relative-position",colspan:Ne.value},pe())])),o("thead",t)}function Pt(){const t=l.header,r=l["header-cell"];if(t!==void 0)return t(Le({header:!0})).slice();const g=j.value.map(_=>{const w=l[`header-cell-${_.name}`],L=w!==void 0?w:r,q=Le({col:_});return L!==void 0?L(q):o(lt,{key:_.name,props:q},()=>_.label)});if(ot.value===!0&&e.grid!==!0)g.unshift(o("th",{class:"q-table--col-auto-width"}," "));else if(Oe.value===!0){const _=l["header-selection"],w=_!==void 0?_(Le({})):[o(Re,{color:e.color,modelValue:je.value,dark:f.value,dense:e.dense,"onUpdate:modelValue":Me})];g.unshift(o("th",{class:"q-table--col-auto-width"},w))}return[o("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},g)]}function Le(t){return Object.assign(t,{cols:j.value,sort:_e,colsMap:Ae.value,color:e.color,dark:f.value,dense:e.dense}),Oe.value===!0&&W(t,"selected",()=>je.value,Me),t}function Me(t){Ee.value===!0&&(t=!1),ne(I.value.map(d.value),I.value,t)}const ue=c(()=>{const t=[e.iconFirstPage||s.iconSet.table.firstPage,e.iconPrevPage||s.iconSet.table.prevPage,e.iconNextPage||s.iconSet.table.nextPage,e.iconLastPage||s.iconSet.table.lastPage];return s.lang.rtl===!0?t.reverse():t});function Ct(){if(e.hideBottom===!0)return;if(vt.value===!0){if(e.hideNoData===!0)return;const g=e.loading===!0?e.loadingLabel||s.lang.table.loading:e.filter?e.noResultsLabel||s.lang.table.noResults:e.noDataLabel||s.lang.table.noData,_=l["no-data"],w=_!==void 0?[_({message:g,icon:s.iconSet.table.warning,filter:e.filter})]:[o(be,{class:"q-table__bottom-nodata-icon",name:s.iconSet.table.warning}),g];return o("div",{class:ge+" q-table__bottom--nodata"},w)}const t=l.bottom;if(t!==void 0)return o("div",{class:ge},[t(J.value)]);const r=e.hideSelectedBanner!==!0&&U.value===!0&&ye.value>0?[o("div",{class:"q-table__control"},[o("div",[(e.selectedRowsLabel||s.lang.table.selectedRecords)(ye.value)])])]:[];if(e.hidePagination!==!0)return o("div",{class:ge+" justify-end"},qt(r));if(r.length!==0)return o("div",{class:ge},r)}function kt(t){x({page:1,rowsPerPage:t.value})}function qt(t){let r;const{rowsPerPage:g}=h.value,_=e.paginationLabel||s.lang.table.pagination,w=l.pagination,L=e.rowsPerPageOptions.length>1;if(t.push(o("div",{class:"q-table__separator col"})),L===!0&&t.push(o("div",{class:"q-table__control"},[o("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||s.lang.table.recordsPerPage]),o(Ft,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:g,options:dt.value,displayValue:g===0?s.lang.table.allRows:g,dark:f.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":kt})])),w!==void 0)r=w(J.value);else if(r=[o("span",g!==0?{class:"q-table__bottom-item"}:{},[g?_(oe.value+1,Math.min(re.value,ie.value),ie.value):_(1,Be.value,ie.value)])],g!==0&&se.value>1){const q={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(q.size="sm"),se.value>2&&r.push(o(ve,{key:"pgFirst",...q,icon:ue.value[0],disable:we.value,onClick:Pe})),r.push(o(ve,{key:"pgPrev",...q,icon:ue.value[1],disable:we.value,onClick:Ce}),o(ve,{key:"pgNext",...q,icon:ue.value[2],disable:Se.value,onClick:ke})),se.value>2&&r.push(o(ve,{key:"pgLast",...q,icon:ue.value[3],disable:Se.value,onClick:qe}))}return t.push(o("div",{class:"q-table__control"},r)),t}function xt(){const t=e.gridHeader===!0?[o("table",{class:"q-table"},[Fe()])]:e.loading===!0&&l.loading===void 0?pe():void 0;return o("div",{class:"q-table__middle"},t)}function Lt(){const t=l.item!==void 0?l.item:r=>{const g=r.cols.map(w=>o("div",{class:"q-table__grid-item-row"},[o("div",{class:"q-table__grid-item-title"},[w.label]),o("div",{class:"q-table__grid-item-value"},[w.value])]));if(U.value===!0){const w=l["body-selection"],L=w!==void 0?w(r):[o(Re,{modelValue:r.selected,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(q,F)=>{ne([r.key],[r.row],q,F)}})];g.unshift(o("div",{class:"q-table__grid-item-row"},L),o(Mt,{dark:f.value}))}const _={class:["q-table__grid-item-card"+P.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(_.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(_.onClick=w=>{a("RowClick",w,r.row,r.pageIndex)}),e.onRowDblclick!==void 0&&(_.onDblclick=w=>{a("RowDblclick",w,r.row,r.pageIndex)})),o("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(r.selected===!0?" q-table__grid-item--selected":"")},[o("div",_,g)])};return o("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},I.value.map((r,g)=>t(De({key:d.value(r),row:r,pageIndex:g}))))}return Object.assign(v.proxy,{requestServerInteraction:m,setPagination:x,firstPage:Pe,prevPage:Ce,nextPage:ke,lastPage:qe,isRowSelected:he,clearSelection:st,isRowExpanded:E,setExpanded:ae,sort:_e,resetVirtualScroll:gt,scrollTo:mt,getCellValue:Q}),$t(v.proxy,{filteredSortedRows:()=>me.value,computedRows:()=>I.value,computedRowsNumber:()=>ie.value}),()=>{const t=[St()],r={ref:y,class:C.value};return e.grid===!0?t.push(xt()):Object.assign(r,{class:[r.class,e.cardClass],style:e.cardStyle}),t.push(bt(),Ct()),e.loading===!0&&l.loading!==void 0&&t.push(l.loading()),o("div",r,t)}}}),hl={class:"row items-center gap-8"},_l={class:"column items-center"},wl={key:0},Sl={key:1},Pl={key:2},Cl={key:3},kl={class:"grid-item"},ql={class:"text-black text-base"},xl={class:"row items-center gap-8"},Ll={class:"text-black text-base"},Rl={class:"text-black text-base"},Tl={class:"grid-item__value text-base"},Bl=1e3,Ol=1200,Nl={__name:"AppJournalList",setup(e){const l=It(),a=Ht(),v=Vt(),{registerTimeout:s}=zt(),f=c(()=>a.getters["journal/IS_LOADING_EVENTS"]),i=c(()=>a.getters["journal/TABLE_EVENTS"]),u=c(()=>a.getters["journal/IS_JOURNAL_INITIALIZED"]);async function d(){try{if(f.value)return;await Jt()}catch(h){console.error(h)}}const y={datetime:"183px",name:"281px",zone:"auto",element:"auto",user:"201px",source:"180px"},n=M([{name:"datetime",label:l.value.JOURNAL.LABEL.dateAndTime,field:"datetime",headerStyle:`width: ${y.datetime}`},{name:"name",label:l.value.GENERAL.LABEL.event,field:"name",headerStyle:`width: ${y.name}`},{name:"element",label:l.value.GENERAL.LABEL.element,field:"element"},{name:"zone",label:l.value.GENERAL.LABEL.zone,field:"zone"},{name:"user",label:l.value.GENERAL.LABEL.user,field:"user",headerStyle:`width: ${y.user}`},{name:"source",label:`${l.value.GENERAL.LABEL.address}`,field:"source",headerStyle:`width: ${y.source}`}]),b=M(null);let P=null;async function k(){u.value||(await Gt(),a.dispatch("journal/setIsJournalInitialized",!0)),P=new ResizeObserver(()=>{if(b.value){const{width:h}=b.value.$el.getBoundingClientRect();n.value.forEach(R=>{h<Ol?R.headerStyle=`width: calc(100% / ${n.value.length})`:R.headerStyle=`width: ${y[R.name]}`})}}),b.value&&P.observe(b.value.$el)}Ze(async()=>{await k(),s(async function h(){const R=Date.now();await d();const m=Date.now();s(h,Bl-(m-R))})}),Ye(()=>{P&&P.disconnect()});const C=M({rowsPerPage:0}),S=M([0]);return V(()=>v.screen.lt.lg,h=>{h?(C.value.rowsPerPage=5,S.value=[5,10,20,30]):(S.value=[0,5,10,20,30],C.value.rowsPerPage=0)},{immediate:!0}),(h,R)=>(O(),K(yl,{pagination:C.value,"onUpdate:pagination":R[0]||(R[0]=m=>C.value=m),rows:i.value,columns:n.value,"rows-per-page-options":S.value,loading:f.value,"virtual-scroll":!$(v).screen.lt.lg,grid:$(v).screen.lt.lg,"no-data-label":$(l).JOURNAL.LABEL.emptyEvents,color:"primary","row-key":"index",separator:"cell",class:"journal-table",ref_key:"journalTable",ref:b},{header:N(m=>[H(Qe,{props:m},{default:N(()=>[(O(!0),D(X,null,Ve(m.cols,x=>(O(),K(lt,{key:x.name,props:m,class:"text-h3 text-black"},{default:N(()=>[z(B(x.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:N(m=>[H(Qe,{props:m},{default:N(()=>[H(G,{key:"datetime",props:m,style:Ut({cursor:m.row.showHint?"help":"auto"}),class:fe({"text-grey-200 ":m.row.showHint})},{default:N(()=>[p("div",hl,[z(B(m.row.datetime)+" ",1),m.row.is_old?(O(),K(be,{key:0,class:"mb-2",name:$(ze),size:"20px"},null,8,["name"])):Z("",!0)]),m.row.showHint?(O(),K(Qt,{key:0,delay:700,class:"bg-dark text-white q-pa-sm text-base"},{default:N(()=>[p("div",_l,[m.row.invalidDate&&m.row.invalidTime?(O(),D("div",wl,B($(l).JOURNAL.LABEL.invalidDateAndTime),1)):m.row.invalidDate?(O(),D("div",Sl,B($(l).JOURNAL.LABEL.invalidDate),1)):m.row.invalidTime?(O(),D("div",Pl,B($(l).JOURNAL.LABEL.invalidTime),1)):Z("",!0),m.row.is_old?(O(),D("div",Cl,B($(l).JOURNAL.LABEL.old),1)):Z("",!0)])]),_:2},1024)):Z("",!0)]),_:2},1032,["props","style","class"]),H(G,{key:"name",props:m},{default:N(()=>[p("div",{class:fe(["text-black br-4 py-6 px-8 ellipsis",`bg-journal-${$(Ue)[m.row.state_class]}`]),style:{"text-wrap":"wrap"}},B(m.row.name),3)]),_:2},1032,["props"]),H(G,{key:"element",props:m},{default:N(()=>[z(B(m.row.element),1)]),_:2},1032,["props"]),H(G,{key:"zone",props:m},{default:N(()=>[z(B(m.row.zone),1)]),_:2},1032,["props"]),H(G,{key:"user",props:m},{default:N(()=>[z(B(m.row.user),1)]),_:2},1032,["props"]),H(G,{key:"source",props:m},{default:N(()=>[z(B(m.row.source),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),item:N(m=>[p("div",kl,[(O(!0),D(X,null,Ve(m.cols,x=>(O(),D("div",{key:x.name,class:"grid-item__column"},[x.name==="datetime"?(O(),D(X,{key:0},[p("div",ql,B(x.label),1),p("div",{class:fe([{"text-grey-200 ":m.row.showHint},"text-base grid-item__value"])},[p("div",xl,[z(B(m.row.datetime)+" ",1),m.row.is_old?(O(),K(be,{key:0,class:"mb-2",name:$(ze),size:"20px"},null,8,["name"])):Z("",!0)])],2)],64)):x.name==="name"?(O(),D(X,{key:1},[p("div",Ll,B(x.label),1),p("div",{class:fe(["text-black text-base br-4 py-6 px-12",`bg-journal-${$(Ue)[m.row.state_class]}`])},B(x.value),3)],64)):(O(),D(X,{key:2},[p("div",Rl,B(x.label),1),p("div",Tl,B(x.value),1)],64))]))),128))])]),_:1},8,["pagination","rows","columns","rows-per-page-options","loading","virtual-scroll","grid","no-data-label"]))}};export{Nl as _,Al as u};
